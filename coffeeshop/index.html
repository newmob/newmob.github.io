
<!DOCTYPE html>
<html>
<head>
	<title>NewMob</title>
	<meta name='author' content='Coffee Shop - NewMob'>
	<meta name='viewport' content='width=device-width, user-scalable=no'>
	<meta name='apple-mobile-web-app-capable' content='yes'>
	<meta name='apple-mobile-web-app-status-bar-style' content='default'>
	<link rel='apple-touch-icon' href='images/icons/icon-192x192.png'>
    <script type="text/javascript" src="scripts/jquery-3.3.1.js"></script>
    <script type="text/javascript" src="scripts/jquery.qrcode.min.js"></script>
	<style>
		body{font-family:-apple-system,BlinkMacSystemFont,system,'Helvetica Neue','Lucida Grande','Arial';margin-right:0px; margin-left:0px;width:100%;color:#000;background-color:#f0f3f4}
		table{background-color:#fff;border-spacing:0;padding:0}
		.topMenu{position:fixed;width:320px;z-index:100}
		.wrapper{position:relative;overflow:hidden;width:320px;height:600px}
		.slide{position:absolute;top:36px;left:100%;width:100%;height:100%;background:#f0f3f4;transition:.5s}
		.titleMain{height:35px;text-align:left;font-size:24px;color:#000;background:#fff;border-bottom:1px solid #d0d3d4;padding:10px 5px 5px}
		.titleCenter{height:35px;text-align:center;font-size:18px;color:#000;background:#fff;border-bottom:1px solid #d0d3d4;padding:10px 5px 5px}
		.titleLeft{height:35px;text-align:left;font-size:18px;color:#1579ff;font-weight:400;background:#fff;border-bottom:1px solid #d0d3d4;cursor:pointer;padding:10px 5px 5px}
		.titleRight{height:35px;text-align:Right;font-size:18px;color:#1579ff;font-weight:400;background:#fff;border-bottom:1px solid #d0d3d4;cursor:pointer;padding:10px 5px 5px}
		.sep{height:15px;border-bottom:1px solid #d0d3d4;background-color:#f0f3f4;padding:10px 0}
		.icon{width:42px;height:50px;padding-top:5px;padding-left:5px;cursor:pointer}
		.iconLast{width:42px;height:50px;padding-top:5px;padding-left:5px;border-bottom:1px solid #d0d3d4;cursor:pointer}
		.caption{font-size:18px;color:#000;text-align:left;border-bottom:1px solid #d0d3d4;cursor:pointer;padding:10px 5px}
		.desc{font-size:12px;color:#000;text-align:left}
		.price{font-size:14px;color:red;text-align:left}
		.value{font-size:18px;color:gray;text-align:right;border-bottom:1px solid #d0d3d4;cursor:pointer;padding:10px 5px}
		.lbl{position:relative;display:block;text-align:center;font-size:19px;padding-top:3px;height:28px;width:64px;background:#898989;border-radius:100px;cursor:pointer;transition:all .3s ease}
		.lbl:after{position:absolute;left:2px;top:3px;display:block;width:24px;height:24px;border-radius:100px;background:#fff;content:'';transition:all .3s ease}
		.lbl:active:after{transform:scale(1.80,0.85)}
		.lblrange{width:20px;text-align:center;font-size:14px;border:none!important;margin:0;cursor:pointer}
		.cbx:checked ~ label{background:#3c3}
		.cbx:checked ~ label:after{left:38px;background:#fff}
		.cbx:disabled ~ label{background:#d5d5d5;pointer-events:none}
		.cbx:disabled ~ label:after{background:#bcbdbc}
		.container{position:absolute;top:250px;left:50%;transform:translate(-50%,-50%)}
		.hidden{display:none}
		input[type='date']{font-size:18px;padding-top:0;padding-bottom:0;padding-left:4px;margin:2px 0;border:2px solid gray;width:165px;border-radius:4px}
		input[type='time']{font-size:18px;padding-top:0;padding-bottom:0;padding-left:4px;margin:2px 0;border:2px solid gray;width:80px;border-radius:4px}
		input[type='text']{font-size:16px;padding-top:0;padding-bottom:0;padding-left:4px;margin:2px 0;border:2px solid gray;height:30px;border-radius:4px;word-wrap:break-word}
		input[type='password']{font-size:16px;padding-top:0;padding-bottom:0;padding-left:4px;margin:2px 0;border:2px solid gray;height:30px;border-radius:4px;word-wrap:break-word}
		input[type=checkbox]{zoom:1.5}
		input[type=range]{height:38px;margin:0;width:75%;vertical-align:middle}
		textarea{font-size:16px;padding-top:0;padding-bottom:0;padding-left:4px;margin:2px 0;border:2px solid gray;border-radius:4px;word-wrap:break-word}
		.weekDays-selector input{display:none!important}
		.weekDays-selector input[type=checkbox]+label{display:inline-block;border-radius:6px;background:#ddd;height:25px;width:32px;margin:1px;line-height:30px;font-size:12px;text-align:center;line-height:25px;cursor:pointer}
		.weekDays-selector input[type=checkbox]:checked+label{background:#2ad705;color:#fff}
		select{-webkit-appearance:none;font-size:18px;line-height:28px;background-color:#fff;color:#333;border:2px solid gray;border-radius:4px;padding:2px}
		.dropdown{width:100%;display:block}
		#spinner{width:48px;height:48px;position:absolute;display:none;top:200px;left:45%;z-index:999;-webkit-animation:sweep 1s infinite linear;border-radius:40px;border-bottom:5px dotted #000;margin:10px auto}@-webkit-keyframes sweep {to{-webkit-transform:rotate(360deg)}}	
    </style>
</head>
<body>
	<div id='spinner'></div>
	<div id='divView' class='wrapper' style='height:1200px'>
		<div id='Main'>
			<table id='mytable' class='topMenu'>
				<tr style='height:60px'>
					<th width='29%' class='titleLeft' onclick='hide(panelToHide)'><span id='topMenuLeft'></span> </th>
					<th width='42%' class='titleCenter'><span id='topMenuCenter'>NewMob Coffee Shop</span> </th>
					<th width='27%' class='titleRight' onclick='menuOk()'><span id='topMenuRight'></span> </th>
				</tr>
			</table>
			<table border='0' cellspacing='0' cellpadding='0' width='100%'>
				<tr><td class='sep' colspan='3'></td></tr>
				<tr><td class='sep' colspan='3' style='line-height:32px;font-size:14px;color:dimgrey;padding-bottom:0px;padding-top:20px;text-align:center;vertical-align: bottom'>Escolha seu café</td></tr>
				<tr onclick='show(panel.coffee01)'>
					<td class='icon'><img src="images/cafe1.jpg" width="120" height="120"></td>
					<td class='caption'><div>AuLait</div><div class="desc">A combinação perfeita do café com leite.</div></td>
					<td class='value'><div class="price">R$5,00</div></td>
				</tr>
				<tr onclick='show(panel.coffee02)'>
					<td class='icon'><img src="images/cafe2.jpg" width="120" height="120"></td>
					<td class='caption'><div>Mocha</div><div class="desc">Combinação do leite cremoso, chocolate e um toque de café 100% Arábica.</div></td>
					<td class='value'><div class="price">R$5,50</div></td>
				</tr>
				<tr onclick='show(panel.coffee03)'>
					<td class='icon'><img src="images/cafe3.jpg" width="120" height="120"></td>
					<td class='caption'><div>Ristretto</div><div class="desc">Um blend de grãos selecionados Arábica e Robusta com torra mais intensa.</div></td>
					<td class='value'><div class="price">R$6,00</div></td>
				</tr>
				<tr onclick='show(panel.coffee04)'>
					<td class='icon'><img src="images/cafe4.jpg" width="120" height="120"></td>
					<td class='caption'><div>Ristretto Ardenza</div><div class="desc">Perfil intenso com notas de alcaçuz e leve toque picante.</div></td>
					<td class='value'><div class="price">R$3,80</div></td>
				</tr>
				<tr onclick='show(panel.coffee05)'>
					<td class='icon'><img src="images/cafe5.jpg" width="120" height="120"></td>
					<td class='caption'><div>Barista</div><div class="desc">Café de alta torrefação de seus grãos Arábicas e Robusta, aroma aveludado e crema generosa, estilo café italiano.</div></td>
					<td class='value'><div class="price">R$3,80</div></td>
				</tr>
				<tr onclick='show(panel.coffee06)'>
					<td class='icon'><img src="images/cafe6.jpg" width="120" height="120"></td>
					<td class='caption'><div>Matinal</div><div class="desc">Café de torrefação média e agradável no paladar para ser o café de todas as manhãs.</div></td>
					<td class='value'><div class="price">R$3,80</div></td>
				</tr>
				<tr onclick='show(panel.coffee07)'>
					<td class='icon'><img src="images/cafe7.jpg" width="120" height="120"></td>
					<td class='caption'><div>Espresso</div><div class="desc">O autêntico café Espresso: encorpado e com uma crema única.</div></td>
					<td class='value'><div class="price">R$3,80</div></td>
				</tr>
				<tr onclick='show(panel.coffee08)'>
					<td class='icon'><img src="images/cafe8.jpg" width="120" height="120"></td>
					<td class='caption'><div>Peach</div><div class="desc">Chá refrescante com sabor pêssego e uma generosa camada de espuma.</div></td>
					<td class='value'><div class="price">R$3,80</div></td>
				</tr>
			</table>
		</div>
		<div id='coffee' class='slide'>
			<form>
				<table border='0' cellspacing='0' cellpadding='0' width='100%'>
					<tr><td class='sep' colspan='3'></td></tr>
					<tr>
						<td class='caption' colspan='3' width='100%'><img src="images/caixa.png" width="276" height="134" style='display: block;margin-left: auto;margin-right: auto;'></td>
					</tr>
					<tr>
						<td class='caption' width='60px'>Valor:</td>
						<td class='caption' width='220px'>R$ <span id='price'></span></td>
					</tr>
					<tr>
						<td class='caption' width='60px'>Senha</td>
						<td class='caption' width='220px'><input id="senha" name="senha" type="password" value="" size=""></td>
					</tr>
				</table>
			</form>
		</div>

			<div id='qcode' class='slide'>
				<div>&nbsp;</div>
				<div style='line-height:40px;font-size:14px;color:dimgrey;padding-bottom:0px;padding-top:20px;text-align:center;vertical-align: bottom'>Apresente este código para o atendente</div>
				  <span id="qrcode" style="display: block;margin-left:35px;margin-right:auto">
				    <canvas width="256" height="256" style="display: block;margin-left:auto;margin-right:auto"></canvas>
				  </span>
				<div class="row" style="visibility: hidden">
					<form class="col s12">
						<input id="qrCodeMessage" type="text" class="validate">
						<button id="buttonGenerate" type="button" name="button">&nbsp;</button>
					</form>
				</div>
			</div>
	  
		

	</div>

	<script type="text/javascript" src="scripts/app.js"></script>

  <script>
	var panel = { 
		main : {name: 'Main', title: 'NewMob Coffee Shop', 	height: '1200px', actionRight: '', actionLeft: '', value: '', caption: '', parent: null}, 
		coffee01 : {name: 'coffee01', title: 'AuLait', 		height: '600px', actionRight: 'Pagar', actionLeft: 'Cancel', value: '5,00', caption: '', parent: null}, 
		coffee02 : {name: 'coffee02', title: 'Mocha', 		height: '600px', actionRight: 'Pagar', actionLeft: 'Cancel', value: '5,50', caption: '', parent: null}, 
		coffee03 : {name: 'coffee03', title: 'Ristretto', 	height: '600px', actionRight: 'Pagar', actionLeft: 'Cancel', value: '6,00', caption: '', parent: null}, 
		coffee04 : {name: 'coffee04', title: 'Ardenza', 	height: '600px', actionRight: 'Pagar', actionLeft: 'Cancel', value: '3,80', caption: '', parent: null}, 
		coffee05 : {name: 'coffee05', title: 'Barista', 	height: '600px', actionRight: 'Pagar', actionLeft: 'Cancel', value: '3,80', caption: '', parent: null}, 
		coffee06 : {name: 'coffee06', title: 'Matinal', 	height: '600px', actionRight: 'Pagar', actionLeft: 'Cancel', value: '3,80', caption: '', parent: null}, 
		coffee07 : {name: 'coffee07', title: 'Espresso', 	height: '600px', actionRight: 'Pagar', actionLeft: 'Cancel', value: '3,80', caption: '', parent: null}, 
		coffee08 : {name: 'coffee08', title: 'Peach', 		height: '600px', actionRight: 'Pagar', actionLeft: 'Cancel', value: '3,80', caption: '', parent: null}, 
		qcode    : {name: 'qcode',    title: 'QrCode', 		height: '600px', actionRight: '', actionLeft: 'Menu', value: '', caption: '', parent: null}, 
	};
	panel.coffee01.parent = panel.main;
	panel.coffee02.parent = panel.main;
	panel.coffee03.parent = panel.main;
	panel.coffee04.parent = panel.main;
	panel.coffee05.parent = panel.main;
	panel.coffee06.parent = panel.main;
	panel.coffee07.parent = panel.main;
	panel.coffee08.parent = panel.main;
	var panelToHide = null;
	var panelToShow = null;
	var currentPanel = panel.main;
	function showQrCode() {
		scroll(0, 0);
		document.getElementById("qcode").style.left = '0';
		document.getElementById('topMenuRight').innerHTML = "";
		document.getElementById('topMenuLeft').innerHTML = "Menu";
		panelToHide = panel.qcode;
		currentPanel.parent = panel.main;

	    //currentPanel = pn.parent;
	}
	function show(pn) {
		pn.name = "coffee";
		scroll(0, 0);
		currentPanel = pn;
		document.getElementById('divView').style.height = pn.height;
		document.getElementById("coffee").style.left = '0';
		document.getElementById('topMenuCenter').innerHTML = pn.title;
		document.getElementById('topMenuRight').innerHTML = pn.actionRight;
		document.getElementById('price').innerHTML = pn.value;
		document.getElementById('qrCodeMessage').value = "Dolce Gusto " + pn.title + " Pagamento efetivado R$ " + pn.value;
		buttonGenerate.click();
		if (pn.actionLeft != '') {
			document.getElementById('topMenuLeft').innerHTML = pn.actionLeft;
		} else {
			document.getElementById('topMenuLeft').innerHTML = '&lt; ' + pn.parent.title;
		}
		panelToHide = pn;
	}
	function hide(pn) {
		scroll(0, 0);
		if (pn != null) {
			document.getElementById(pn.name).style.left = '100%';
			if (pn.name=="qcode") {
				document.getElementById("coffee").style.left = '100%';
				pn.parent = panel.main;
			}
			if ((pn.parent.actionLeft != '') || (pn.parent.name == 'Main')) {
				document.getElementById('topMenuLeft').innerHTML = pn.parent.actionLeft;
			} else {
				document.getElementById('topMenuLeft').innerHTML = '&lt; ' + pn.parent.parent.title;
			}
			document.getElementById('topMenuCenter').innerHTML = pn.parent.title;
			document.getElementById('topMenuRight').innerHTML = pn.parent.actionRight;
			document.getElementById('divView').style.height = pn.parent.height;
			panelToHide = pn.parent;
			currentPanel = pn.parent;
		}
	}
	function menuOk() {
		//showSpinner(true);
        //setTimeout(alertFunc, 2000);
		showQrCode();
	}
	function alertFunc() {
		hide(currentPanel);
		showSpinner(false);
	}
	function chkChange(chkID, txtID, lblID) {
		txtID.disabled = !chkID.checked;
	}
	function updateTime(txt) {
		var d = new Date();
		var currentTime = '';
		if (d.getHours() < 10) {
			currentTime = '0';
		}
		currentTime = currentTime + d.getHours() + ':';
		if (d.getMinutes() < 10) {
			currentTime = currentTime + '0';
		}
		currentTime = currentTime + d.getMinutes();
		txt.value = currentTime;
	}
	function showSpinner(show) {
		var x = document.getElementById('spinner');
		if (show) {
			x.style.display = 'block';
		} else {
            x.style.display = 'none';
		}
	}
	</script>
</body>
</html>